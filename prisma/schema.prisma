generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String
  rol       String   @default("USER")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relación: Un usuario puede crear muchos equipos
  equipos   Equipo[]
}

model Equipo {
  id             Int      @id @default(autoincrement())
  nombre         String   @unique
  ciudad         String?
  creadoEn       DateTime @default(now()) @map("created_at")
  actualizadoEn  DateTime @updatedAt @map("updated_at")

  // Relación con User
  autorId        Int
  autor          User     @relation(fields: [autorId], references: [id])

  // --- NUEVA LÍNEA AÑADIDA ---
  // Relación con Pitcher: Un equipo puede tener muchos pitchers
  pitchers       Pitcher[]
}

// --- NUEVO MODELO AÑADIDO ---
model Pitcher {
  id              Int      @id @default(autoincrement())
  nombre          String
  apellido        String
  edad            Int
  numero_camiseta Int
  creadoEn        DateTime @default(now()) @map("created_at")
  actualizadoEn   DateTime @updatedAt @map("updated_at")

  // Relación con Equipo
  equipoId        Int
  equipo          Equipo   @relation(fields: [equipoId], references: [id])

  @@map("pitchers")
}